<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="An easy PHP Library for calculating national holidays">
    <meta name="HandheldFriendly" content="true">

    <meta property="og:title" content="Yasumi - An easy PHP Library for calculating national holidays">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/cookbook/custom_provider">
    <meta property="og:description" content="An easy PHP Library for calculating national holidays">
    <meta property="og:image" content="https://azuyalabs.github.io/yasumi/images/yasumi_logo.png">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="297">
    <meta property="og:image:height" content="88">

    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="https://azuyalabs.github.io/yasumi/favicons/mstile-144x144.png">
    <meta name="msapplication-config" content="https://azuyalabs.github.io/yasumi/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <title>Yasumi - An easy PHP Library for calculating national holidays</title>

    <link rel="home" href="/cookbook/custom_provider">
    <link rel="canonical" href="/cookbook/custom_provider">

    <link rel="apple-touch-icon" sizes="180x180" href="https://azuyalabs.github.io/yasumi/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="https://azuyalabs.github.io/yasumi/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://azuyalabs.github.io/yasumi/favicons/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="https://azuyalabs.github.io/yasumi/favicons/manifest.json">
    <link rel="mask-icon" href="https://azuyalabs.github.io/yasumi/favicons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="https://azuyalabs.github.io/yasumi/favicons/favicon.ico">

    
        
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.css">
    <link rel="stylesheet" href="https://azuyalabs.github.io/yasumi/assets/build/css/main.css">

    </head>
<body>
<div class="hero is-primary">
    <div class="hero-head">
        <div class="container">
            <nav class="navbar is-spaced" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="nav-item" href="https://azuyalabs.github.io/yasumi">
            <img src="https://azuyalabs.github.io/yasumi/images/yasumi_logo.png" alt="https://azuyalabs.github.io/yasumi" width="297"
                 height="88">
        </a>
        <label class="navbar-burger burger" aria-label="menu" for="nav-toggle-state" style="z-index:999">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </label>
    </div>

    <input type="checkbox" id="nav-toggle-state"/>

    <div id="nav-menu" class="navbar-menu">
        <div class="navbar-start">
            <a class="navbar-item "
               href="https://azuyalabs.github.io/yasumi/gettingstarted/">
                Getting Started
            </a>
            <a class="navbar-item " href="https://azuyalabs.github.io/yasumi/features/">
                Features
            </a>
            <a class="navbar-item is-active" href="https://azuyalabs.github.io/yasumi/cookbook/">
                Cookbook
            </a>
            <a class="navbar-item " href="https://azuyalabs.github.io/yasumi/blog/">
                Blog
            </a>
            <a class="navbar-item " href="https://azuyalabs.github.io/yasumi/contributing/">
                Contributing
            </a>
        </div>

        <div class="navbar-end">
            <div class="nav-item">
                <a class="button is-danger" href="https://github.com/azuyalabs/yasumi/releases/latest">
              <span class="icon">
                <i class="fas fa-download"></i>
              </span>
                    <span>Download</span>
                </a>
            </div>
        </div>
    </div>
</nav>        </div>
    </div>

    <div class="hero-body">
        <div class="container">
            <div class="columns is-vcentered">
                <div class="column">
                                            <h1 class="title is-2">Use a custom provider for atypical providers</h1>
                                    </div>
            </div>
        </div>
    </div>

</div>
<div class="section">
    <div class="container content">
            <div class="columns">
        <div class="column">
            <p>What if you want to manage holidays that are similar to those of a country but slightly different?</p>
<p>A good example of such situation is the observed holidays by the New York Stock Exchange (<a href="http://www.nyse.com">NYSE</a>): All NYSE markets observe U.S. holidays however these differ somewhat from the standard Federal U.S. holidays:</p>
<ul>
<li>The NYSE markets observe Good Friday as a holiday, where the Federal holidays do not celebrate this. </li>
<li>The NYSE markets do not observe Columbus Day and Veterans Day as an official holiday</li>
</ul>
<p>Yasumi is very flexible in that it can also work with custom holiday providers in stead of the predefined holiday providers. </p>
<p>First step is to create a custom class that extends an existing holiday provider. In this case, we are going to extend the USA Holiday Provider class to form a new custom provider that covers the NYSE observed holidays. This new class will then contain modifications that reflect differences from the U.S. holidays.</p>
<p>The custom holiday provider class will look like this:</p>
<pre><code class="language-php">/**
 * Provider for all observed holidays by the NYSE (New York Stock Exchange
 */
class NYSE extends \Yasumi\Provider\USA
{
    /**
     * Initialize holidays for the NYSE.
     * @throws  \Exception
     */
    public function initialize()
    {
        parent::initialize();

        // Add Good Friday
        $this-&gt;addHoliday($this-&gt;goodFriday($this-&gt;year, $this-&gt;timezone, $this-&gt;locale));

        // Remove Columbus Day and Veterans Day
        $this-&gt;removeHoliday('columbusDay');
        $this-&gt;removeHoliday('veteransDay');
    }
}</code></pre>
<p>Here you can see, that we use Yasumi's <code>addHoliday</code> and <code>removeHoliday</code> methods to add Good Friday and, respectively, remove Columbus Day and Veterans Day from the internal list of defined holidays.</p>
<p>Now we can instantiate a Yasumi Holiday Provider object with our new custom provider class:</p>
<pre><code class="language-php">// Use the factory method to create a new holiday provider instance
$NYSEHolidays = Yasumi\Yasumi::create(NYSE::class, 2019);</code></pre>
<p>We then can retrieve the NYSE observed holidays in 2019 in the usual manner:</p>
<pre><code class="language-php">// Display all holidays
foreach ($NYSEHolidays as $day) {
    echo $day-&gt;getName() . PHP_EOL;
}

// 'New Year's Day'
// 'Dr. Martin Luther King Jr's Birthday'
// 'Washington's Birthday'
// 'Good Friday'
// 'Memorial Day'
// 'Independence Day'
// 'Labour Day'
// 'Thanksgiving Day'
// 'Christmas'</code></pre>
<pre><code class="language-php">// Use the count() method to show how many holidays are returned
echo $NYSEHolidays-&gt;count() . PHP_EOL;

// 9</code></pre>
<p>As you can see, Yasumi's open design allows even for scenarios that are atypical. Alternatively, you can also create custom filters, however these are best suited for situations when you only need to exclude holidays from a Holiday Provider.   </p>
<p>Sources:</p>
<ul>
<li><a href="https://www.nyse.com/markets/hours-calendars">NYSE Holidays and Trading Hours</a> </li>
</ul>        </div>
        <div class="column is-3">
            <aside class="menu">
                <p class="menu-label">
                    Recipes
                </p>
                <ul class="menu-list">
                                            <li>
                            <a href="https://azuyalabs.github.io/yasumi/cookbook/basic/">A basic starter</a>
                        </li>
                                            <li>
                            <a href="https://azuyalabs.github.io/yasumi/cookbook/between_filter/">Get holidays based on a given date range</a>
                        </li>
                                            <li>
                            <a href="https://azuyalabs.github.io/yasumi/cookbook/custom_provider/">Use a custom provider for atypical providers</a>
                        </li>
                                            <li>
                            <a href="https://azuyalabs.github.io/yasumi/cookbook/filters/">Using filters to only retrieve certain type of holidays</a>
                        </li>
                                    </ul>
            </aside>
        </div>
    </div>
    </div>
</div>
<footer class="footer">
    <div class="container">
        <div class="content has-text-centered">
            <p>
                &copy; 2015 - 2019 <strong>Yasumi</strong> is maintained by <a
                        href="https://github.com/azuyalabs">AzuyaLabs</a>. The source code is
                licensed <a
                        href="https://opensource.org/licenses/mit-license.php">MIT</a>. The website content is licensed
                <a rel="license"
                   href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC
                    BY-NC-SA 4.0</a>.
            </p>
        </div>
    </div>
</footer>

<script src="https://azuyalabs.github.io/yasumi/assets/build/js/main.js"></script>
</body>
</html>
